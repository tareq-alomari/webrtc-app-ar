# تطبيق مؤتمرات الفيديو عبر WebRTC

هذا المشروع هو تطبيق ويب لعقد مؤتمرات الفيديو الجماعية مبني باستخدام تقنية WebRTC. يوفر التطبيق تجربة تفاعلية وغنية بالميزات للتواصل الصوتي والمرئي في الوقت الفعلي، مع واجهة مستخدم حديثة وسهلة الاستخدام باللغة العربية.

---

## 🌟 الميزات الرئيسية (Key Features)

- **مكالمات فيديو وصوت جماعية:** اتصال متعدد الأطراف بجودة عالية.
- **نظام أدوار (مضيف ومشارك):** يبدأ أول مستخدم المكالمة كمضيف مع صلاحيات خاصة.
- **صلاحيات المضيف:**
  - **نظام طلبات الانضمام:** قبول أو رفض المشاركين الجدد.
  - **إدارة المشاركين:** طرد المستخدمين وكتم/إلغاء كتم الصوت عن بعد.
  - **رابط دعوة:** إنشاء ونسخ رابط فريد للمكالمة.
- **دردشة نصية فورية:**
  - دردشة عامة لجميع المشاركين.
  - رسائل خاصة بين مستخدمين محددين.
- **استطلاعات الرأي المباشرة (Live Polls):** يمكن للمضيف إنشاء استطلاعات والتصويت عليها مباشرة أثناء المكالمة.
- **ميزات تفاعلية للمشاركين:**
  - رفع/خفض اليد.
  - التحكم في الكاميرا والميكروفون.
- **مصادقة المستخدمين:** نظام تسجيل دخول وتسجيل آمن لحماية الوصول إلى المكالمات.
- **واجهة مستخدم متجاوبة:** تصميم أنيق يعمل بكفاءة على أجهزة الكمبيوتر المكتبية والهواتف المحمولة.
- **دعم HTTPS:** خادم آمن لضمان عمل WebRTC بشكل موثوق.
- **إعادة الاتصال التلقائي:** يحاول العميل إعادة الاتصال بالخادم تلقائيًا عند انقطاع الشبكة.

---

## 🛠️ التقنيات المستخدمة (Tech Stack)

### الواجهة الأمامية (Frontend)

- **JavaScript (ES6+):** شيفرة منظمة باستخدام الأصناف (Classes) لإدارة الحالة والواجهة.
- **WebRTC:** للاتصال الند للند (Peer-to-Peer) وبث الوسائط.
- **HTML5 / CSS3:** لبناء هيكل وتصميم الصفحات.
- **Bootstrap 5:** إطار عمل لتصميم واجهة مستخدم متجاوبة ومكونات جاهزة (Modals, Tooltips).
- **Bootstrap Icons:** لمجموعة أيقونات متناسقة.

### الواجهة الخلفية (Backend)

- **Node.js:** بيئة تشغيل JavaScript من جانب الخادم.
- **Express.js:** إطار عمل لتشغيل الخادم، وتقديم الملفات، وإدارة المصادقة.
- **WebSocket (`ws`):** لإنشاء قناة اتصال ثنائية الاتجاه في الوقت الفعلي لتبادل رسائل الإشارة (Signaling).
- **bcrypt:** لتجزئة (Hashing) كلمات المرور بشكل آمن.
- **express-session:** لإدارة جلسات المستخدمين بعد تسجيل الدخول.

---

## 🚀 كيفية التشغيل (Getting Started)

اتبع هذه الخطوات لإعداد وتشغيل المشروع على جهازك المحلي.

### المتطلبات

- Node.js (يفضل إصدار 16 أو أحدث).
- مدير الحزم `npm` (يأتي مع Node.js).

### 1. استنساخ المستودع

```bash
git clone <repository-url>
cd webrtc-app-ar
```

### 2. تثبيت الاعتماديات

قم بتثبيت جميع الحزم المطلوبة من `package.json`.

```bash
npm install
```

### 3. (اختياري) إنشاء شهادات SSL للتطوير

للحصول على أفضل أداء لـ WebRTC، يوصى باستخدام HTTPS. يمكنك إنشاء شهادات موقعة ذاتيًا (self-signed) للاستخدام المحلي عبر الأمر التالي:

```bash
npm run generate-ssl
```

> **ملاحظة:** سيقوم المتصفح بعرض تحذير أمان عند استخدام شهادات موقعة ذاتيًا. يمكنك قبول التحذير للمتابعة.

### 4. تشغيل الخادم

```bash
npm start
```

سيتم تشغيل الخادم على `http://localhost:3000` أو `https://localhost:3000` إذا تم إعداد SSL.

### 5. استخدام التطبيق

1.  افتح المتصفح وتوجه إلى `https://localhost:3000`.
2.  سيتم توجيهك إلى صفحة تسجيل الدخول. قم بإنشاء حساب جديد من خلال `register.html` أو استخدم حسابًا موجودًا.
3.  بعد تسجيل الدخول، أدخل اسمك وابدأ مكالمة جديدة أو انضم إلى مكالمة موجودة باستخدام رابط الدعوة.

---

## 📂 هيكلية المشروع (Project Structure)

```
webrtc-app-ar/
├── public/
│   ├── css/style.css         # الأنماط المخصصة للتطبيق
│   ├── js/                   # ملفات JavaScript للواجهة الأمامية
│   │   ├── UIManager.js      # لإدارة جميع عناصر الواجهة والتفاعلات
│   │   ├── SessionManager.js # العقل المدبر للعميل، يدير WebRTC والجلسة
│   │   ├── NetworkClient.js  # لإدارة اتصال WebSocket مع الخادم
│   │   └── main.js           # نقطة الدخول الرئيسية للتطبيق
│   ├── index.html            # الصفحة الرئيسية للتطبيق
│   └── login.html            # صفحة تسجيل الدخول
├── node_modules/             # اعتماديات المشروع
├── server.js                 # خادم Node.js (Express + WebSocket Signaling)
├── package.json              # معلومات المشروع والاعتماديات
└── README.md                 # هذا الملف
```

---

## 👥 فريق العمل (Team)

- **إعداد وتطوير:** علي القواس, حازم العمري, طارق العمري
- **تحت إشراف:** الدكتور إياد المخلافي
